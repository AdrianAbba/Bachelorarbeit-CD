function AnimationManager(n){function t(n){n.setFPS(g),v.push(n)}function i(){p=!0;for(var n=0;n<v.length;n++)u(v[n].getCanvasId());for(var n=v.length-1;n>=0;n--)v.splice(n,1);p=!1}function e(){f||(f=!0,A=1e3/g,C=Date.now(),this.animate(),setTimeout(a,1e3))}function a(){w=0,setTimeout(a,1e3)}function o(){p=!0;for(var n=0;n<v.length;n++)v[n].replayAllAnimationsFromStart();p=!1}function s(){window.requestAnimationFrame(s),this.now=Date.now(),this.elapsed=this.now-C,this.elapsed>A&&(C=this.now-this.elapsed%A,h())}function r(){d=!0}function l(){d=!1}function h(){if(!d&&!p){for(var n=(v.length,0);n<v.length;n++)"style"!=v[n].getAnimationType()&&u(v[n].getCanvasId()),v[n].runAnimation();w++}}function m(){for(var n=0;n<v.length;n++)u(v[n].getCanvasId()),v[n].runAnimation();for(var n=0;n<v.length;n++)u(v[n].getCanvasId()),v[n].runAnimation();for(var n=0;n<v.length;n++)u(v[n].getCanvasId()),v[n].runAnimation()}function u(n){var t=document.getElementById(n),i=t.getContext("2d");i.globalCompositeOperation="destination-over",i.clearRect(0,0,t.width,t.height),i.save()}var g,A,f=!1,c="0.12",v=new Array,d=!1,p=!1,w=0,C=0;g=n,this.addNewAnimation=t,this.runAnimation=h,this.startAnimating=e,this.animate=s,this.pauseAllAnimations=r,this.resumeAllAnimations=l,this.replayAllAnimations=o,this.removeAllAnimations=i,this.forceFirstDraw=m,console.log("[AnimationManager version: ]"+c)}
